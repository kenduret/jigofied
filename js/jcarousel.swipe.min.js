/*!
 * jCarousel Swipe Plugin v@VERSION
 * http://sorgalla.com/jcarousel/
 *
 * Copyright 2011, Jan Sorgalla
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * or GPL Version 2 (http://www.opensource.org/licenses/gpl-2.0.php) licenses.
 *
 * Date: @DATE
 */
jCarousel.plugin("swipe",function(a){var b=this;return{started:false,startX:null,startY:null,startPos:null,width:0,_init:function(){this.eventNames={mousedown:(a.vmouse?"v":"")+"mousedown."+this.pluginName,mousemove:(a.vmouse?"v":"")+"mousemove."+this.pluginName,mouseup:(a.vmouse?"v":"")+"mouseup."+this.pluginName};this.carousel().element().bind(this.eventNames.mousedown,a.proxy(this._start,this)).bind(this.eventNames.mouseup,a.proxy(this._stop,this)).bind(this.eventNames.mousemove,a.proxy(this._move,this)).bind("mouseleave."+this.pluginName,a.proxy(this._stop,this))},_start:function(c){var d=this.carousel();this.started=true;this.startPos=b.intval(d.list().css(d.lt));this.startX=b.intval(c.pageX);this.startY=b.intval(c.pageY);var e=0,f=0,g=d.vertical?"bottom":d.rtl?"left":"right";d.items().each(function(){var b=a(this);e+=d._dimension(b);f=b.css("margin-"+g)});this.width=e-b.intval(f);c.stopPropagation();c.preventDefault();return this},_stop:function(){var c=function(){var b=this,c=this.items(),d=this.list().position()[this.lt],e=c.eq(0),f=false;if(this.rtl&&!this.vertical){d=(d+this.list().width()-this._clipping())*-1}c.each(function(){var c=a(this),g=b._dimension(c);d+=g;e=c;if(f){return false}if(d>=0){if(Math.abs(d)<g/2){f=true}else{return false}}});this.scroll(e)};var d=this.carousel();if(d.rtl&&!d.vertical){var e=b.intval(d.list().css("right"));if(e>0){d.scroll(0)}else if(e<-(this.width-d._clipping())){d.scroll(-1)}else{c.apply(d)}}else{var f=b.intval(d.list().css(d.lt));if(f>0){d.scroll(0)}else if(f<-(this.width-d._clipping())){d.scroll(-1)}else{c.apply(d)}}this.started=false;this.startPos=this.startX=this.startY=null;return this},_move:function(a){if(!this.started){return this}var c=this.carousel();var d=c.vertical?this.startY-b.intval(a.pageY):this.startX-b.intval(a.pageX);c.list().stop(true,false).css(c.lt,Math.ceil(this.startPos-d)+"px");return this}}})